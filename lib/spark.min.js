/*
 Progress Software 2015-2017
 @license Apache-2.0
*/
(function(d,g,a,b){if(d&&g&&a&&"undefined"===typeof b.spark){var c=null,e=null,f=null,h={id:"",filterQuery:"",data:{},success:!1,error:!1},l=null;b.spark={version:"v3.1.0 (2017.04.14.083423)",field:{},form:{},grid:{},loader:{},nav:{},notify:{},strings:{},jsdoError:function(a){var c=((a.xhr||{}).jsdo||{getErrors:function(){return[]}}).getErrors(),e=[];d.each(c,function(b,a){switch(a.type){case -1:var c=null;if(a.responseText)try{c=JSON.parse(a.responseText||"")}catch(q){console.log("Error while parsing response: "+
a.responseText||"N/A")}c&&"object"===typeof c?d.each(c,function(b,a){a["prods:errors"]&&d.each(a["prods:errors"],function(b,a){d.each(a,function(b,a){e.push(a["prods:error"])})})}):e.push(a.error);break;case -2:e.push(a.error+" ("+a.errorNum+")");break;case -3:e.push(a.error);break;case -4:e.push(a.error);break;default:console.log("Unknown error:",a)}});0===e.length&&""!==a.errorThrown&&e.push(a.errorThrown);0<e.length&&(console.warn("Errors: ",e),b.app&&b.app.showMessage?b.app.showMessage(e,"error"):
alert(e[0]));a.preventDefault();return!1},jsdoFailure:function(a,c,e){if(e.xhr&&401===e.xhr.status||403===e.xhr.status)b.spark.jsdoAuthError?b.spark.jsdoAuthError(e):alert("Session has expired. Please login again.");else if(e.response&&e.response._errors&&0<e.response._errors.length){a="";var k=e.response._errors.length,f;for(c=0;c<k;c+=1)f=e.response._errors[c]||{},a=a+" "+f._errorMsg||"UNKNOWN";""!==d.trim(a)&&console.warn(a)}},createSession:function(k,m,p,h){f||(l||(h?l=h:this.setSessionName(k)),
f=new a.data.JSDOSession({authenticationModel:p||a.data.Session.AUTH_TYPE_ANON,serviceURI:k||null,name:l||"JSDOSession_Default"}));if(m)return f.loginResult===a.data.Session.LOGIN_SUCCESS?f.isAuthorized().then(function(a,c,d){return b.spark.loadCatalogs(m)},function(a,c,d){return b.spark.loadCatalogs(m)}):f.login(c||"anonymous",e||"").then(function(){return b.spark.loadCatalogs(m)},function(){return"Unable to reach the REST adapter to establish a session."});k=d.Deferred();k.resolve("No catalog(s) requested.");
return k},loadCatalogs:function(a){f.catalogLoaded={};"string"==typeof a?f.catalogLoaded[a]=!1:a instanceof Array&&d.each(a,function(a,b){f.catalogLoaded[b]=!1});return f.addCatalog(a).then(function(a,b,c){d.each(c,function(a,b){f.catalogLoaded[b.catalogURI]=b.result?!0:!1});return c},function(a,b,c){console.log("Response:",c);return"Failed to load catalog(s)."})},createJSDO:function(b){var c=null;d.each(f.JSDOs,function(a,d){d.name===b&&(c=d)});return c||new a.data.JSDO({name:b})},getMessages:function(a){a.response&&
(a=a.response);return a&&a._errors&&0<a._errors.length?a._errors||!1:!1},showMessage:function(a,b){var c=a._errorMsg||"",d;switch(a._errorType.toLowerCase()){case "error":case "fatal":case "trace":d="error";break;case "validation":case "warning":d="warning";break;default:d="info"}""!==c&&d&&b&&b(c,d)},setCredentials:function(a,b){c=a||null;e=b||null},setSessionName:function(a){l=a.replace(/\//g,"");""===l&&(l="Root");return l="JSDOSession_"+l},clone:function(a,b){return d.extend(!0,{},a,b)},toProperCase:function(a){return a.replace(/\w\S*/g,
function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})},getJsdoSession:function(){return f},getMergedOptions:function(a){return this.clone(h,a)},getQueryStringValue:function(a){var c=b.location.search;""===c&&(c=b.location.href);return unescape(c.replace(new RegExp("^(?:.*[&\\?]"+escape(a).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))},createJSDODataSource:function(a,c){var e=b.spark.createJSDO(a),f=e.getMethodProperties("read"),k=[];f&&f.capabilities&&(k=f.capabilities.split(","));
e={serverFiltering:-1<k.indexOf("filter"),serverPaging:-1<k.indexOf("top"),serverSorting:-1<k.indexOf("sort"),transport:{jsdo:e},type:"jsdo"};c.tableRef&&(e.transport.tableRef=c.tableRef,delete c.tableRef);return new g.data.DataSource(d.extend(e,c))},jsdo_read:function(a,c){var d=null,d=c.filterQuery||"",d=""===d?a.fill():a.fill(d);d.done(function(a,b,c){}).fail(b.spark.jsdoFailure);return d},jsdo_create:function(a,c){a.add(c.data);var d=a.saveChanges();d.done(function(a,b,c){}).fail(b.spark.jsdoFailure);
return d},jsdo_update:function(a,c){var d={},d=c.tableRef&&a[c.tableRef]?a[c.tableRef].findById(c.id):a.findById(c.id);try{d.assign(c.data)}catch(n){c.error(null,null,n)}d=a.saveChanges();d.done(function(a,b,c){}).fail(b.spark.jsdoFailure);return d},jsdo_delete:function(a,c){var d=a.findById(c.id);try{d.remove()}catch(n){c.error(null,null,n)}d=a.saveChanges();d.done(function(a,b,c){}).fail(b.spark.jsdoFailure);return d}}}})(window.jQuery,window.kendo,window.progress,window);
(function(d,g){d&&g&&"undefined"!==typeof window.spark&&(window.spark=d.extend(window.spark,{getUrlParams:function(){var a={},b=location.search.substring(1);b&&(a=b.replace(/&/g,'","').replace(/=/g,'":"'),a=JSON.parse('{"'+a+'"}',function(a,b){return""===a?b:decodeURIComponent(b)}));return a},clearPersistentObject:function(a){var b=window.localStorage||null;b&&b.clearObject?b.clearObject(a):b?delete b[a]:window.spark.setCookie(a,"");return!0},setPersistentObject:function(a,b){var c=window.localStorage||
null;c&&c.getObject?c.setObject(a,b):c?c[a]=JSON.stringify(b):window.spark.setCookie(a,JSON.stringify(b));return!0},getPersistentObject:function(a){var b="",c=window.localStorage||null;if(c&&c.getObject)return c.getObject(a);if(c){if(a=c[a],"string"===typeof a)try{b=JSON.parse(a)}catch(e){}}else if(a=window.spark.getCookie(a),"string"===typeof a)try{b=JSON.parse(a)}catch(e){}return b},clearSessionObject:function(a){var b=window.sessionStorage||null;b&&b.clearObject?b.clearObject(a):b&&delete b[a];
return!1},setSessionObject:function(a,b){var c=!1,d=window.sessionStorage||null;d&&d.getObject?(d.setObject(a,b),c=!0):d&&(d[a]=JSON.stringify(b),c=!0);return c},getSessionObject:function(a){var b="",c=window.sessionStorage||null;if(c&&c.getObject)b=c.getObject(a);else if(c){var d=c[a];"string"===typeof c[a]&&(b=JSON.parse(d))}return b},getCookie:function(a){a+="=";var b,c=document.cookie.split(";"),d;for(b=0;b<c.length;b+=1){for(d=c[b];" "==d.charAt(0);)d=d.substring(1);if(0==d.indexOf(a))return d.substring(a.length,
d.length)}return""},setCookie:function(a,b,c){var d=new Date;d.setTime(d.getTime()+864E5*(c||1));c="expires="+d.toUTCString();document.cookie=a+"="+b+"; "+c+"; path=/"},getToday:function(){var a=new Date;return new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0,0)},getDateByDays:function(a){if("number"==typeof a&&0!=a){var b=new Date;a=b.setDate(b.getDate()+a);return new Date(a)}return new Date},getDateByWeeks:function(a){if("number"==typeof a&&0!=a){var b=new Date,c=this.getDateByDays(-1*b.getDay()),
c=b.setDate(c.getDate()+7*a);return new Date(c)}return new Date},getTemplate:function(a,b){if(d(a).length){var c=g.template(d(a).html());return b?c(b):c}return null}}));window.Storage&&(Storage.prototype.clearObject=function(a){this.removeItem&&this.removeItem(a)},Storage.prototype.getObject=function(a){return this.getItem?JSON.parse(this.getItem(a)):""},Storage.prototype.setObject=function(a,b){if(this.setItem)try{var c=JSON.stringify(b);this.setItem(a,c)}catch(e){console.warn("Unable to store peristent object in DOM: "+
e),console.warn("An error was encountered while storing data to the browser. Please view the ISC logs for details.")}})})(window.jQuery,window.kendo);
(function(d,g){d&&g&&window.spark&&(window.spark.loader={loadExtScreen:function(a,b,c){return d.ajax({dataType:"script",url:a+".js",success:function(c){return d.ajax({dataType:"html",url:a+".html",success:function(a){g.destroy(d("#"+b).children());d("#"+b).empty();d("#"+b).html(a)},error:function(b){alert("Error loading HTML file "+a+".html")}})},error:function(b){alert("Error loading JavaScript file "+a+".js")}})},loadExtInclude:function(a,b,c,e){return d.ajax({dataType:"html",url:a,success:function(a){g.destroy(d("#"+
b).children());d("#"+b).empty();d("#"+b).html(a);d("[data-toggle=tooltip]").tooltip()},error:function(b){alert("Error loading template file "+a)}})},loadExtTemplate:function(a,b,c,e){return d.ajax({dataType:"html",url:a,success:function(a){d("#"+b).append(a);a=g.template(d("#"+c).html())(e||{});g.destroy(d("#"+b).children());d("#"+b).empty();d("#"+b).html(a)},error:function(b){alert("Error loading template file "+a)}})}})})(window.jQuery,window.kendo);
(function(d,g){d&&g&&window.spark&&(window.spark.field={lookupTextField:"name",lookupValueField:"value",USStateList:"AL AK AS AZ AR CA CO CT DE DC FM FL GA GU HI ID IL IN IA KS KY LA ME MH MD MA MI MN MS MO MP MT NE NV NH NJ NM NY NC ND OH OK OR PW PA PR RI SC SD TN TX UT VT VI VA WA WV WI WY".split(" "),getSelectedRecord:function(a){try{if(a.dataSource&&a.select){var b=a.dataSource.data();if(-1<a.select()&&0<b.length)return b[a.select()]}}catch(c){}return{}},createDatePicker:function(a,b){var c=
d(a);if(c.length){var e=(((g.cultures.current||{}).calendar||{}).patterns||{}).d||"MM/dd/yyyy";return c.kendoDatePicker(d.extend({format:e,parseFormats:[e,"MM/dd/yyyy","MM/dd/yy","yyyy-MM-dd"]},b)).getKendoDatePicker()}return null},createDatePickerMDY:function(a,b){var c=d(a);return c.length?c.kendoDatePicker(d.extend({format:"MM/dd/yyyy",parseFormats:["MM/dd/yyyy","MM/dd/yy","yyyy-MM-dd"]},b)).getKendoDatePicker():null},createFormattedField:function(a,b){var c=d(a);return c.length?c.kendoMaskedTextBox(d.extend({mask:b.mask||
null},b)).getKendoMaskedTextBox():null},createFormattedPhone:function(a,b){var c=d(a);return c.length?c.kendoMaskedTextBox(d.extend({mask:"(000) 000-0000"},b)).getKendoMaskedTextBox():null},createFormattedSSN:function(a,b){var c=d(a);return c.length?c.kendoMaskedTextBox(d.extend({mask:"000-00-0000"},b)).getKendoMaskedTextBox():null},createMultiLookup:function(a,b){var c=d(a);return c.length?c.kendoMultiSelect(d.extend({autoClose:!1,dataSource:new g.data.DataSource,dataTextField:window.spark.field.lookupTextField,
dataValueField:window.spark.field.lookupValueField,suggest:!0,valuePrimitive:!0},b)).getKendoMultiSelect():null},createSimpleLookup:function(a,b){var c=d(a);return c.length?!0===b.multiple?c.kendoMultiSelect(d.extend({autoClose:!1,dataSource:[],suggest:!0,valuePrimitive:!0},b)).getKendoMultiSelect():c.kendoDropDownList(d.extend({dataSource:[],suggest:!0,valuePrimitive:!0},b)).getKendoDropDownList():null},createSingleLookup:function(a,b){var c=d(a);return c.length?c.kendoDropDownList(d.extend({dataSource:new g.data.DataSource,
dataTextField:window.spark.field.lookupTextField,dataValueField:window.spark.field.lookupValueField,suggest:!0,valuePrimitive:!0},b)).getKendoDropDownList():null},createUSStateList:function(a,b){var c=d(a);return c.length?c.kendoDropDownList(d.extend({dataSource:window.spark.field.USStateList,optionLabel:"Select",valuePrimitive:!0},b)).getKendoDropDownList():null},createInvokeLookup:function(a,b){var c=d(a);if(c.length){var e=null,e=!0===b.multiple?c.kendoMultiSelect(d.extend({autoClose:!1,dataSource:new g.data.DataSource,
filter:"contains",suggest:!0,valuePrimitive:!0},b)).getKendoMultiSelect():c.kendoDropDownList(d.extend({dataSource:new g.data.DataSource,filter:"contains",valuePrimitive:!0},b)).getKendoDropDownList();if(!b.invokeResource)return console.log("Resource name was not specified for invoke lookup:",a),e;e&&b.invokeResource&&(e._jsdo=window.spark.createJSDO(b.invokeResource),b.invokeMethod?(e.fetchData=function(a){return e._jsdo.invoke(b.invokeMethod,a||{}).done(function(a,c,d){a=d.response||{};b.invokeDataProperty?
e.dataSource.data(a[b.invokeDataProperty]||[]):e.dataSource.data(a)})},void 0!=b.autoBind&&!0!==b.autoBind||e.fetchData(null)):(e.fetchData=function(a){console.log("Method is not currently configured for use.")},console.log("No method name provided for invoke lookup:",a)));return e}return null},createResourceLookup:function(a,b){if(!b.resourceName)return console.log("Resource name was not specified for resource lookup:",a),null;var c=d(a);if(c.length){var e={transport:{jsdo:window.spark.createJSDO(b.resourceName)},
type:"jsdo"};delete b.resourceName;var f=e.transport.jsdo.getMethodProperties("read");f&&f.capabilities&&(e.serverFiltering=-1<(f.capabilities||"").indexOf("filter"),e.serverPaging=-1<(f.capabilities||"").indexOf("top"),e.serverSorting=-1<(f.capabilities||"").indexOf("sort"));b.resourceTable&&(e.transport.tableRef=b.resourceTable,delete b.resourceTable);b.dataValueField&&(e.sort={field:b.dataValueField,dir:"asc"});return c.kendoDropDownList(d.extend({dataSource:new g.data.DataSource(e),filter:"contains",
suggest:!0,valuePrimitive:!0},b)).getKendoDropDownList()}return null},createResourceAutoComplete:function(a,b){var c=d(a);if(c.length){if(!b.resourceName)return console.log("Resource name was not specified for resource auto-complete:",a),null;var e={transport:{jsdo:window.spark.createJSDO(b.resourceName)},type:"jsdo",requestStart:function(a){var b=(this.filter()||{}).filters||[];if(0===b.length||""==(b[0]||{}).value)return a.preventDefault(),!1;if(1<b.length)return a.sender.filter(b[0]),a.preventDefault(),
!1}};delete b.resourceName;var f=e.transport.jsdo.getMethodProperties("read");f&&f.capabilities&&(e.serverFiltering=-1<(f.capabilities||"").indexOf("filter"),e.serverPaging=-1<(f.capabilities||"").indexOf("top"),e.serverSorting=-1<(f.capabilities||"").indexOf("sort"));b.pageSize&&(e.pageSize=b.pageSize,delete b.pageSize);b.resourceTable&&(e.transport.tableRef=b.resourceTable,delete b.resourceTable);b.dataValueField&&(e.sort={field:b.dataValueField,dir:"asc"});b.dataSourceOptions&&(e=d.extend(e,b.dataSourceOptions),
delete b.dataSourceOptions);return c.kendoAutoComplete(d.extend({dataSource:new g.data.DataSource(e),delay:400,filter:"startsWith",minLength:2,virtual:!0,change:function(a){},filtering:function(a){a=a.filter;b.filterField&&(a.field=b.filterField);return a}},b)).getKendoAutoComplete()}return null},addKeypressEvent:function(a,b){var c=null,e=d(a);return e.length?(b.onInvalidKey||(b.onInvalidKey=function(a){a&&a.preventDefault();return!1}),e.keypress(function(a){if(0!==a.which){var d=String.fromCharCode(a.which);
if(a.which===g.keys.BACKSPACE)clearTimeout(c),c=setTimeout(b.onValidKey,b.delay||400);else if(a.which===g.keys.ENTER)clearTimeout(c),c=setTimeout(b.onEnter,b.delay||400);else if(d.match(b.filter||/.*/))clearTimeout(c),c=setTimeout(b.onValidKey,b.delay||400);else return b.onInvalidKey.apply(this,[a])}}),e.keyup(function(a){a.which===g.keys.DELETE&&(clearTimeout(c),c=setTimeout(b.onValidKey,b.delay||400))}),!0):!1}})})(window.jQuery,window.kendo);
(function(d,g){d&&g&&window.spark&&(window.spark.form={doOnEnter:function(a,b,c){a=d(a);if(a.length)a.on("keypress",function(a){13===(a.keyCode?a.keyCode:a.which)&&b&&"function"===typeof b&&setTimeout(function(){b.apply(c||this,[a])},20)})},doOnSubmit:function(a,b,c){a=d(a);if(a.length)a.on("submit",function(a){a.preventDefault();b&&"function"===typeof b&&b.apply(c||this,[a])})},getValidator:function(a,b){var c=d(a);return c.length?c.getKendoValidator()&&!b?c.getKendoValidator():c.kendoValidator(d.extend({},
b)).getKendoValidator():null},reset:function(a,b){var c=d(a);if(c.length){var e=window.spark.form.getValidator(a,b);e&&(c[0]&&c[0].reset&&c[0].reset(),e.hideMessages())}},validate:function(a,b){var c=window.spark.form.getValidator(a,b);return c&&c.validate?c.validate():!1},getErrors:function(a){return(a=window.spark.form.getValidator(a,{}))&&a.errors?a.errors():[]},translateForm:function(a,b,c){var e=d(a+" input");d.each(e,function(a,c){var e=d(c).attr("required"),f=d(c).attr("data-required-msg");
f&&""!==f&&d(c).attr("data-required-msg",b(f));var g=d(c).attr("placeholder");g&&""!==g&&(d(c).attr("placeholder",b(g)),e&&!f&&(f=g+" is required",d(c).attr("data-required-msg",b(f))));var h=d(c).attr("name");h&&""!==h&&(h=h.replace(/([A-Z])/g," $1").trim(),h=h.replace(/^./,function(a){return a.toUpperCase()}),g||d(c).attr("placeholder",b(h)),f=d(c).attr("data-required-msg"),e&&!f&&(f=h+" is required",d(c).attr("data-required-msg",b(f))))});e=d(a+" textarea");d.each(e,function(a,c){var e=d(c).attr("required"),
f=d(c).attr("data-required-msg");f&&""!==f&&d(c).attr("data-required-msg",b(f));var g=d(c).attr("placeholder");g&&""!==g&&(d(c).attr("placeholder",b(g)),e&&!f&&(f=g+" is required",d(c).attr("data-required-msg",b(f))));var h=d(c).attr("name");h&&""!==h&&(h=h.replace(/([A-Z])/g," $1").trim(),h=h.replace(/^./,function(a){return a.toUpperCase()}),g||d(c).attr("placeholder",b(h)),f=d(c).attr("data-required-msg"),e&&!f&&(f=h+" is required",d(c).attr("data-required-msg",b(f))))});e=d(a+" label");d.each(e,
function(e,g){var f=d(g).attr("for");if(f&&(d(g).html(b(d(g).html())),c&&c.showRequiredIndicator)){var h=d(a+" input[name="+f+"]");h.length||(h=d(a+" textarea[name="+f+"]"));h.length&&d(h).attr("required")&&d(g).prepend('<span class="text-danger m-r-xxs">'+(c.requiredIndicator||"*")+"</span>")}if(f=d(g).attr("help"))f=d('<i class="fa fa-question-circle m-l-xs" data-container="body" data-placement="top"data-toggle="popover" data-trigger="hover" data-content="'+b(f)+'"></i>'),d(g).append(f)});d("[data-toggle=popover]").popover()}})})(window.jQuery,
window.kendo);
(function(d,g){d&&g&&window.spark&&(window.spark.grid={getSelectedRecord:function(a,b){if(b){var c=d(a.target).closest("tr");return b.dataItem(c)}return(b=a.sender)?b.dataItem(b.select()):{}},getViewState:function(a){return a?{columns:a.columns||[],filter:a.dataSource.filter(),group:a.dataSource.group(),sort:a.dataSource.sort()}:{columns:null,filter:null,group:null,sort:null}},createReadOnlyEditor:function(){return function(a,b){a.text(b.model[b.field])}},createFormattedFieldEditor:function(a){return function(b,c){c.sparkEditor=
window.spark.field.createFormattedField(d('<input data-bind="value:'+c.field+'"/>').appendTo(b),a);setTimeout(function(){c.sparkEditor.value(c.model[c.field]||c.model.defaults[c.field])},20)}},createMultiLookup:function(a){return function(b,c){c.sparkEditor=window.spark.field.createMultiLookup(d('<input data-bind="value:'+c.field+'"/>').appendTo(b),a);setTimeout(function(){var a=c.model[c.field]||c.model.defaults[c.field];"string"===typeof a&&-1<a.indexOf(",")&&(a=a.split(","));c.sparkEditor.value(a)},
20)}},createSimpleLookupEditor:function(a){return function(b,c){c.sparkEditor=window.spark.field.createSimpleLookup(d('<input data-bind="value:'+c.field+'"/>').appendTo(b),a);setTimeout(function(){c.sparkEditor.value(c.model[c.field]||c.model.defaults[c.field])},20)}},createSingleLookupEditor:function(a){return function(b,c){c.sparkEditor=window.spark.field.createSingleLookup(d('<input data-bind="value:'+c.field+'"/>').appendTo(b),a);setTimeout(function(){c.sparkEditor.value(c.model[c.field]||c.model.defaults[c.field])},
20)}},createInvokeLookupEditor:function(a){return function(b,c){c.sparkEditor=window.spark.field.createInvokeLookup(d('<input data-bind="value:'+c.field+'"/>').appendTo(b),a)}}})})(window.jQuery,window.kendo);
(function(d){d&&window.spark&&(window.spark.io={addExtensionClass:function(d){switch(d){case ".jpg":case ".img":case ".png":case ".gif":return"fa fa-file-image-o fa-3x";case ".doc":case ".docx":return"fa fa-file-word-o fa-3x";case ".xls":case ".xlsx":return"fa fa-file-excel-o fa-3x";case ".pdf":return"fa fa-file-pdf-o fa-3x";case ".zip":case ".rar":return"fa fa-file-zip-o fa-3x";default:return"fa fa-file-o fa-3x"}},createUpload:function(g,a,b){return(g=d(g))?g.kendoUpload(d.extend({async:{autoUpload:a.autoUpload||
!1,batch:a.batchUpload||!1,saveUrl:a.saveURL||"upload",saveField:a.saveField||"files"},enabled:a.enableUpload||!1,multiple:a.multiUpload||!1,showFileList:a.showFileList||!1,template:a.template||null,cancel:a.onCancel||null,complete:a.onComplete||null,error:a.onError||null,progress:a.onProgress||null,success:a.onSuccess||null,upload:a.onUpload||null,select:a.onSelect||null,remove:a.onRemove||null},b)).getKendoUpload():null}})})(window.jQuery);
(function(d,g){d&&g&&window.spark&&(window.spark.nav={createSimpleRouter:function(a){a||(a={});a.mainContentID&&""!==a.mainContentID||(a.mainContentID="mainContent");var b=new g.Router({change:a.onChange||function(a){}});b.loggedIn=!1;b.menuData=[];b.isSecurePage=function(a){var b=!1;d.each(this.menuData||[],function(c,e){e.items&&d.each(e.items,function(c,d){d.url==a&&(b=!0===d.secure)})});return b};b.route("/",function(){var c=d.Deferred();a.getLandingPage?c=a.getLandingPage():c.resolve("");c.done(function(c){if((c||
"").startsWith("#/"))b.navigate(c);else if(""!==(c||"")){var d=a.filePathPrefix+c;window.spark.loader.loadExtScreen(d,a.mainContentID,c).complete(function(){if(a.onLoad)a.onLoad(c,d)})}else if(a.onLoad)a.onLoad("")})});b.route("/logout",function(){window.spark.getJsdoSession().logout().then(function(){if(a.onLogout)a.onLogout()})});b.route("/:page",function(b){var c=a.filePathPrefix+b;window.spark.loader.loadExtScreen(c,a.mainContentID,b).complete(function(){if(a.onLoad)a.onLoad(b,c)})});b.route("/:sec/:page",
function(b,d){var c=a.filePathPrefix+b+"/"+d;window.spark.loader.loadExtScreen(c,a.mainContentID,d).complete(function(){if(a.onLoad)a.onLoad(d,c,b)})});b.route("/:sec/:sub/:page",function(b,d,f){var c=a.filePathPrefix+b+"/"+d+"/"+f;window.spark.loader.loadExtScreen(c,a.mainContentID,f).complete(function(){if(a.onLoad)a.onLoad(f,c,b,d)})});return b},createVerticalStackMenu:function(a,b){var c=d(a);if(c){c.empty();var e=d('<nav class="nav-primary hidden-xs" data-ride="collapse" role="navigation"></nav>'),
f=d('<ul class="nav" data-ride="collapse"></ul>');"object"===typeof b&&d.each(b,function(a,b){var c="";window.app&&window.app.currentPage.path&&""!=window.app.currentPage.path&&(c="#"+window.app.currentPage.path.replace("app/views",""));var e=d('<a href="javascript:void(0)" class="auto nav-link"></a>');b.icon&&e.append(d('<i class="fa '+b.icon+' m-r-xs"></i>'));var g=d('<li class="nav-item"></li>');e.append(d("<span>"+b.text+"</span>"));g.append(e);var h=d('<ul class="nav dker"></ul>');"object"===
typeof b.items&&d.each(b.items,function(a,b){var e=d('<a class="nav-link"></a>');e.attr("href",b.url);0===b.url.indexOf("http")&&e.attr("target","_blank");var f=d('<li class="nav-item"></li>');f.append(e.text(b.text));h.append(f);""!=c&&c==b.url&&(g.addClass("active"),e.addClass("active"))});g.append(h);f.append(g)});e.append(f);c.append(e)}else console.info("No menu element has been defined.")}})})(window.jQuery,window.kendo);
(function(d,g){d&&g&&window.spark&&(window.spark.notify={setNotificationArea:function(a,b){var c=null,e=d(a);e.length&&(c=e.kendoNotification(d.extend({appendTo:a,autoHideAfter:3E4,button:!0},b)).getKendoNotification(),c.showNotification=function(a,b){var c=this;if(c)try{if("string"===typeof a&&""!==a?c.show(a,b||"info"):Array.isArray(a)&&d.each(a,function(a,d){""!==d&&c.show(d,b||"info")}),c.options&&c.options.appendTo){var e=d(c.options.appendTo);e.length&&e.scrollTop(e[0].scrollHeight)}}catch(m){console.log(m)}});
return c},responseHasErrors:function(a){var b=!1,c=null;d.each((a||{})._errors||[],function(a,d){c=d._errorType||"";if("ERROR"===c||"FATAL"===c||"TRACE"===c)b=!0});return b}})})(window.jQuery,window.kendo);
(function(d){if(d&&window.spark){var g={},a=[];String.prototype.startsWith||(String.prototype.startsWith=function(a,c){c=c||0;return this.indexOf(a,c)===c});window.spark.strings={trackTranslations:!1,addTranslatedStrings:function(a){"object"===typeof a&&(g=d.extend(g,a))},getTranslatedString:function(a){window.spark.strings.trackTranslation(a);return g&&g[a]?g[a]:a},trackTranslation:function(b){window.spark.strings.trackTranslations&&b&&""!==b&&-1===a.indexOf(b)&&a.push(b);return a}}}})(window.jQuery); //# sourceMappingURL=spark.min.map